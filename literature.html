<div ng-controller="literatureCtrl" resize-watcher>
    <form id="literature-search-form">
        <div class="form-group">
            <div class="input-group">
                <div class="input-group-addon">
                    <i class="fa fa-fw fa-search"></i>
                </div>
                <input type="text" class="form-control" placeholder="Literatur durchsuchen" ng-model="searchTerm">
            </div>
        </div>
    </form>
    <div id="literature-container">
        <table class="table table-striped table-hover" id="literature-table">
            <thead>
                <tr>
                    <td>
                        <a href="" ng-click="sortType = 'type'; sortReverse = !sortReverse">
                            type
                            <span ng-show="sortType == 'type' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'type' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'author'; sortReverse = !sortReverse">
                            author
                            <span ng-show="sortType == 'author' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'author' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'editor'; sortReverse = !sortReverse">
                            editor
                            <span ng-show="sortType == 'editor' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'editor' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'title'; sortReverse = !sortReverse">
                            title
                            <span ng-show="sortType == 'title' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'title' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'journal'; sortReverse = !sortReverse">
                            journal
                            <span ng-show="sortType == 'journal' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'journal' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'year'; sortReverse = !sortReverse">
                            year
                            <span ng-show="sortType == 'year' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'year' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                    	pages
                    </td>
                    <td>
                        volume
                    </td>
                    <td>
                        number
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'booktitle'; sortReverse = !sortReverse">
                            booktitle
                            <span ng-show="sortType == 'booktitle' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'booktitle' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'publisher'; sortReverse = !sortReverse">
                            publisher
                            <span ng-show="sortType == 'publisher' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'publisher' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'address'; sortReverse = !sortReverse">
                            address
                            <span ng-show="sortType == 'address' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'address' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                    	created_at
                    </td>
                    <td>
                    	updated_at
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'misc'; sortReverse = !sortReverse">
                            misc
                            <span ng-show="sortType == 'misc' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'misc' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'howpublished'; sortReverse = !sortReverse">
                            howpublished
                            <span ng-show="sortType == 'howpublished' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'howpublished' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td ng-if="currentUser.permissions.add_remove_literature">
                        LÃ¶schen
                    </td>
                    <td ng-if="currentUser.permissions.edit_literature">
                        Bearbeiten
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="entry in literature | orderBy:sortType:sortReverse | filter:searchTerm">
                    <td>
                        {{ entry.type }}
                    </td>
                    <td>
                    	{{ entry.author }}
                    </td>
                    <td>
                    	{{ entry.editor }}
                    </td>
                    <td>
                    	{{ entry.title }}
                    </td>
                    <td>
                    	{{ entry.journal }}
                    </td>
                    <td>
                    	{{ entry.year }}
                    </td>
                    <td>
                    	{{ entry.pages }}
                    </td>
                    <td>
                    	{{ entry.volume }}
                    </td>
                    <td>
                    	{{ entry.number }}
                    </td>
                    <td>
                    	{{ entry.booktitle }}
                    </td>
                    <td>
                    	{{ entry.publisher }}
                    </td>
                    <td>
                    	{{ entry.address }}
                    </td>
                    <td>
                    	{{ entry.created_at }}
                    </td>
                    <td>
                    	{{ entry.updated_at }}
                    </td>
                    <td>
                    	{{ entry.misc }}
                    </td>
                    <td>
                    	{{ entry.howpublished }}
                    </td>
                    <td ng-if="currentUser.permissions.add_remove_literature">
                        <button type="button" class="btn btn-danger" ng-click="deleteLiteratureEntry(entry.id, $index)">
                            <i class="fa fa-fw fa-trash-o"></i>
                        </button>
                    </td>
                    <td ng-if="currentUser.permissions.edit_literature">
                        <button type="button" class="btn btn-info" ng-click="editLiteratureEntry(entry.id, $index)">
                            <i class="fa fa-fw fa-pencil"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <button type="button" class="btn btn-success" id="literature-add-button" ng-click="openAddLiteratureDialog()" ng-if="currentUser.permissions.add_remove_literature">
        <i class="fa fa-fw fa-plus"></i> Literatur hinzufÃ¼gen
    </button>
</div>
