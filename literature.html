<div ng-controller="literatureCtrl" resize-watcher>
    <form id="literature-search-form">
        <div class="form-group">
            <div class="input-group">
                <div class="input-group-addon">
                    <i class="fa fa-fw fa-search"></i>
                </div>
                <input type="text" class="form-control" placeholder="{{'literature.search-placeholder'|translate}}" ng-model="searchTerm">
            </div>
        </div>
    </form>
    <div id="literature-container">
        <table class="table table-striped table-hover" id="literature-table">
            <thead>
                <tr>
                    <td>
                        <a href="" ng-click="sortType = 'type'; sortReverse = !sortReverse">
                            {{'literature.bibtex.type'|translate}}
                            <span ng-show="sortType == 'type' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'type' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'author'; sortReverse = !sortReverse">
                            {{'literature.bibtex.author'|translate}}
                            <span ng-show="sortType == 'author' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'author' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'editor'; sortReverse = !sortReverse">
                            {{'literature.bibtex.editor'|translate}}
                            <span ng-show="sortType == 'editor' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'editor' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'title'; sortReverse = !sortReverse">
                            {{'literature.bibtex.title'|translate}}
                            <span ng-show="sortType == 'title' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'title' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'journal'; sortReverse = !sortReverse">
                            {{'literature.bibtex.journal'|translate}}
                            <span ng-show="sortType == 'journal' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'journal' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'year'; sortReverse = !sortReverse">
                            {{'literature.bibtex.year'|translate}}
                            <span ng-show="sortType == 'year' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'year' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                    	{{'literature.bibtex.pages'|translate}}
                    </td>
                    <td>
                        {{'literature.bibtex.volume'|translate}}
                    </td>
                    <td>
                        {{'literature.bibtex.number'|translate}}
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'booktitle'; sortReverse = !sortReverse">
                            {{'literature.bibtex.booktitle'|translate}}
                            <span ng-show="sortType == 'booktitle' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'booktitle' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'publisher'; sortReverse = !sortReverse">
                            {{'literature.bibtex.publisher'|translate}}
                            <span ng-show="sortType == 'publisher' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'publisher' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'address'; sortReverse = !sortReverse">
                            {{'literature.bibtex.address'|translate}}
                            <span ng-show="sortType == 'address' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'address' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                    	{{'literature.created-at'|translate}}
                    </td>
                    <td>
                    	{{'literature.updated-at'|translate}}
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'misc'; sortReverse = !sortReverse">
                            {{'literature.bibtex.misc'|translate}}
                            <span ng-show="sortType == 'misc' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'misc' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td>
                        <a href="" ng-click="sortType = 'howpublished'; sortReverse = !sortReverse">
                            {{'literature.bibtex.howpublished'|translate}}
                            <span ng-show="sortType == 'howpublished' && !sortReverse" class="fa fa-fw fa-caret-down"></span>
                            <span ng-show="sortType == 'howpublished' && sortReverse" class="fa fa-fw fa-caret-up"></span>
                        </a>
                    </td>
                    <td ng-if="currentUser.permissions.add_remove_literature">
                        {{'literature.delete'|translate}}
                    </td>
                    <td ng-if="currentUser.permissions.edit_literature">
                        {{'literature.edit'|translate}}
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="entry in literature | orderBy:['!' + sortType, sortType]:sortReverse | filter:searchTerm">
                    <td>
                        {{ entry.type }}
                    </td>
                    <td>
                    	{{ entry.author }}
                    </td>
                    <td>
                    	{{ entry.editor }}
                    </td>
                    <td>
                    	{{ entry.title }}
                    </td>
                    <td>
                    	{{ entry.journal }}
                    </td>
                    <td>
                    	{{ entry.year }}
                    </td>
                    <td>
                    	{{ entry.pages }}
                    </td>
                    <td>
                    	{{ entry.volume }}
                    </td>
                    <td>
                    	{{ entry.number }}
                    </td>
                    <td>
                    	{{ entry.booktitle }}
                    </td>
                    <td>
                    	{{ entry.publisher }}
                    </td>
                    <td>
                    	{{ entry.address }}
                    </td>
                    <td>
                    	{{ entry.created_at }}
                    </td>
                    <td>
                    	{{ entry.updated_at }}
                    </td>
                    <td>
                    	{{ entry.misc }}
                    </td>
                    <td>
                    	{{ entry.howpublished }}
                    </td>
                    <td ng-if="currentUser.permissions.add_remove_literature">
                        <button type="button" class="btn btn-danger" ng-click="deleteLiteratureEntry(entry.id, $index)">
                            <i class="fa fa-fw fa-trash-o"></i>
                        </button>
                    </td>
                    <td ng-if="currentUser.permissions.edit_literature">
                        <button type="button" class="btn btn-info" ng-click="editLiteratureEntry(entry.id, $index)">
                            <i class="fa fa-fw fa-pencil"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <button type="button" class="btn btn-success" id="literature-add-button" ng-click="openAddLiteratureDialog()" ng-if="currentUser.permissions.add_remove_literature">
        <i class="fa fa-fw fa-plus"></i> {{'literature.add'|translate}}
    </button>
</div>
